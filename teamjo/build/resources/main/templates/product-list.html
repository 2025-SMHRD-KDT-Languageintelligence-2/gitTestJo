<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ìƒí’ˆ ë¦¬ìŠ¤íŠ¸</title>
  <link rel="stylesheet" href="/css/product-list.css" />
</head>
<body>
  <div class="container">
    <h2>ğŸ± ì‹ë‹¨ êµ¬ì„± ìƒí’ˆ ë¦¬ìŠ¤íŠ¸</h2>

    <!-- ğŸ” ê²€ìƒ‰ ì…ë ¥ì°½ -->
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="ìƒí’ˆëª…ì„ ì…ë ¥í•´ë³´ì„¸ìš”" />
    </div>

    <!-- ğŸ“Œ ì¹´í…Œê³ ë¦¬ íƒ­ -->
    <div class="category-tabs">
      <button class="tab-btn active" data-type="rice">ë°¥</button>
      <button class="tab-btn" data-type="soup">êµ­</button>
      <button class="tab-btn" data-type="side">ë°˜ì°¬</button>
    </div>

    <!-- ğŸ§¾ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ -->
    <div id="product-list" class="product-list">
      <!-- JSì—ì„œ ìƒí’ˆ ì¹´ë“œ ì‚½ì… -->
    </div>
  </div>

  <script>
    // ì˜ˆì‹œ ìƒí’ˆ ë°ì´í„°
    const products = [
      { id: 1, name: "í˜„ë¯¸ë°¥", calorie: 210, protein: 4, type: "rice", image: "/image/rice1.jpg" },
      { id: 2, name: "ì¡ê³¡ë°¥", calorie: 230, protein: 5, type: "rice", image: "/image/rice2.jpg" },
      { id: 3, name: "ë¯¸ì—­êµ­", calorie: 90, protein: 2, type: "soup", image: "/image/soup1.jpg" },
      { id: 4, name: "ëœì¥ì°Œê°œ", calorie: 150, protein: 6, type: "soup", image: "/image/soup2.jpg" },
      { id: 5, name: "ê³„ë€ë§ì´", calorie: 120, protein: 7, type: "side", image: "/image/side1.jpg" },
      { id: 6, name: "ì˜¤ì´ë¬´ì¹¨", calorie: 50, protein: 1, type: "side", image: "/image/side2.jpg" },
    ];

    let currentCategory = "rice"; // ê¸°ë³¸ ì¹´í…Œê³ ë¦¬

    const productList = document.getElementById("product-list");
    const categoryButtons = document.querySelectorAll(".tab-btn");
    const searchInput = document.getElementById("searchInput");

    // ìƒí’ˆ í•„í„° ë° ë Œë”ë§ í•¨ìˆ˜
    function renderProducts() {
      const searchKeyword = searchInput.value.trim().toLowerCase();

      const filtered = products.filter(p => 
        p.type === currentCategory && p.name.toLowerCase().includes(searchKeyword)
      );

      productList.innerHTML = "";

      if (filtered.length === 0) {
        productList.innerHTML = "<p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>";
        return;
      }

      filtered.forEach(product => {
        const card = document.createElement("div");
        card.className = "product-card";
        card.innerHTML = `
          <img src="${product.image}" alt="${product.name}" />
          <div class="product-info">
            <strong>${product.name}</strong>
            <p>ì¹¼ë¡œë¦¬: ${product.calorie}kcal</p>
            <p>ë‹¨ë°±ì§ˆ: ${product.protein}g</p>
          </div>
        `;
        productList.appendChild(card);
      });
    }

    // ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ í´ë¦­ ì²˜ë¦¬
    categoryButtons.forEach(button => {
      button.addEventListener("click", () => {
        currentCategory = button.dataset.type;
        categoryButtons.forEach(btn => btn.classList.remove("active"));
        button.classList.add("active");
        renderProducts();
      });
    });

    // ê²€ìƒ‰ ì…ë ¥ ì´ë²¤íŠ¸ ì²˜ë¦¬
    searchInput.addEventListener("input", renderProducts);

    // ì´ˆê¸° ë¡œë”© ì‹œ ë°¥ ì¹´í…Œê³ ë¦¬ í‘œì‹œ
    renderProducts();
  </script>
</body>
</html>
